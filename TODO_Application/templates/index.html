
<!DOCTYPE html>
<html>
<head>
    <title>TODO Application</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        .todo-container {
            display: flex;
            margin-bottom: 10px;
            align-items: center;
        }
        .todo-text {
            flex-grow: 1;
            margin: 0 10px;
        }
        .status-not-started { color: #ff5722; }
        .status-in-progress { color: #2196f3; }
        .status-completed { color: #4caf50; }
        form {
            display: flex;
            margin-bottom: 20px;
        }
        input[type="text"] {
            flex-grow: 1;
            padding: 8px;
        }
    </style>
</head>
<body>
    <h1>TODO Application</h1>
    <form action="/add" method="post">
        <input type="text" name="todo" placeholder="Add new task..." required>
        <button type="submit">Add</button>
    </form>

    {% for todo in todos %}
    <div class="todo-container">
        <form action="/update/{{ loop.index0 }}" method="post">
            <select name="status" onchange="this.form.submit()">
                <option value="未着手" {% if todo.status == '未着手' %}selected{% endif %}>未着手</option>
                <option value="進行中" {% if todo.status == '進行中' %}selected{% endif %}>進行中</option>
                <option value="完了" {% if todo.status == '完了' %}selected{% endif %}>完了</option>
            </select>
        </form>
        <div class="todo-text status-{{ todo.status|replace('未着手','not-started')|replace('進行中','in-progress')|replace('完了','completed') }}">
            {{ todo.text }}
        </div>
        <a href="/delete/{{ loop.index0 }}">Delete</a>
    </div>
    {% endfor %}
</body>
</html>
